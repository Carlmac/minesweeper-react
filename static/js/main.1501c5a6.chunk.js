(this["webpackJsonpminesweeper-react-ts"]=this["webpackJsonpminesweeper-react-ts"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,l,o,i=n(1),u=n.n(i),r=n(5),s=n.n(r),c=(n(10),n(2)),b=n(3),v=(n(11),n(12),n(0)),f=function(e){var t=e.value;return Object(v.jsx)("div",{className:"NumberDisplay",children:Object(v.jsx)("span",{children:t<0?"-".concat(Math.abs(t).toString().padStart(2,"0")):t.toString().padStart(3,"0")})})};!function(e){e[e.None=0]="None",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five",e[e.Six=6]="Six",e[e.Seven=7]="Seven",e[e.Eight=8]="Eight",e[e.Bomb=9]="Bomb"}(a||(a={})),function(e){e[e.Open=0]="Open",e[e.Visible=1]="Visible",e[e.Flagged=2]="Flagged"}(l||(l={})),function(e){e.Smile="\ud83d\ude00",e.Oh="\ud83d\ude32",e.Lost="\ud83d\ude41",e.Won="\ud83d\ude0e"}(o||(o={}));var m=function(e,t,n){return{topLeftCell:t>0&&n>0?e[t-1][n-1]:null,topCell:t>0?e[t-1][n]:null,topRightCell:t>0&&n<8?e[t-1][n+1]:null,rightCell:n<8?e[t][n+1]:null,bottomRightCell:t<8&&n<8?e[t+1][n+1]:null,bottomCell:t<8?e[t+1][n]:null,bottomLeftCell:t<8&&n>0?e[t+1][n-1]:null,leftCell:n>0?e[t][n-1]:null}},O=function(){for(var e=[],t=0;t<9;t++){e.push([]);for(var n=0;n<9;n++)e[t].push({value:a.None,state:l.Open})}for(var o=0;o<10;){var i=Math.floor(9*Math.random()),u=Math.floor(9*Math.random()),r=e[i][u];r.value!==a.Bomb&&(r.value=a.Bomb,o+=1)}for(var s=0;s<9;s++)for(var b=0;b<9;b++){var v=e[s][b];if(v.value!==a.Bomb){var f=0,O=m(e,s,b),d=O.topLeftCell,j=O.topCell,p=O.topRightCell,h=O.rightCell,g=O.bottomRightCell,B=O.bottomCell,C=O.bottomLeftCell,w=O.leftCell;d&&d.value===a.Bomb&&(f+=1),j&&j.value===a.Bomb&&(f+=1),p&&p.value===a.Bomb&&(f+=1),h&&h.value===a.Bomb&&(f+=1),g&&g.value===a.Bomb&&(f+=1),B&&B.value===a.Bomb&&(f+=1),C&&C.value===a.Bomb&&(f+=1),w&&w.value===a.Bomb&&(f+=1),f>0&&(e[s][b]=Object(c.a)(Object(c.a)({},v),{},{value:f}))}}return e},d=function e(t,n,o){var i=t[n][o];if(i.state===l.Visible||i.state===l.Flagged)return t;var u=t.slice();u[n][o].state=l.Visible;var r=m(t,n,o),s=r.topLeftCell,c=r.topCell,b=r.topRightCell,v=r.rightCell,f=r.bottomRightCell,O=r.bottomCell,d=r.bottomLeftCell,j=r.leftCell;return s&&s.state===l.Open&&s.value!==a.Bomb&&(s.value===a.None?u=e(u,n-1,o-1):u[n-1][o-1].state=l.Visible),c&&c.state===l.Open&&c.value!==a.Bomb&&(c.value===a.None?u=e(u,n-1,o):u[n-1][o].state=l.Visible),b&&b.state===l.Open&&b.value!==a.Bomb&&(b.value===a.None?u=e(u,n-1,o+1):u[n-1][o+1].state=l.Visible),v&&v.state===l.Open&&v.value!==a.Bomb&&(v.value===a.None?u=e(u,n,o+1):u[n][o+1].state=l.Visible),f&&f.state===l.Open&&f.value!==a.Bomb&&(f.value===a.None?u=e(u,n+1,o+1):u[n+1][o+1].state=l.Visible),O&&O.state===l.Open&&O.value!==a.Bomb&&(O.value===a.None?u=e(u,n+1,o):u[n+1][o].state=l.Visible),d&&d.state===l.Open&&d.value!==a.Bomb&&(d.value===a.None?u=e(u,n+1,o-1):u[n+1][o-1].state=l.Visible),j&&j.state===l.Open&&j.value!==a.Bomb&&(j.value===a.None?u=e(u,n,o-1):u[n][o-1].state=l.Visible),u},j=(n(14),function(e){var t=e.state,n=e.value,o=e.red,i=e.row,u=e.col,r=e.onClick,s=e.onContext;return Object(v.jsx)("div",{className:"Button ".concat(t===l.Visible?"visible":""," value-").concat(n," ").concat(o?"red":""),onClick:r(i,u),onContextMenu:s(i,u),children:t===l.Visible?n===a.Bomb?Object(v.jsx)("span",{role:"img",children:"\ud83d\udca3"}):n===a.None?null:Object(v.jsx)("span",{children:n}):t===l.Flagged?Object(v.jsx)("span",{role:"img",children:"\ud83d\udea9"}):null})}),p=function(){var e=Object(i.useState)(O()),t=Object(b.a)(e,2),n=t[0],u=t[1],r=Object(i.useState)(o.Smile),s=Object(b.a)(r,2),m=s[0],p=s[1],h=Object(i.useState)(0),g=Object(b.a)(h,2),B=g[0],C=g[1],w=Object(i.useState)(!1),x=Object(b.a)(w,2),N=x[0],S=x[1],V=Object(i.useState)(10),F=Object(b.a)(V,2),L=F[0],E=F[1],k=Object(i.useState)(!1),M=Object(b.a)(k,2),R=M[0],T=M[1],y=Object(i.useState)(!1),I=Object(b.a)(y,2),D=I[0],J=I[1];Object(i.useEffect)((function(){var e=function(){D||R||p(o.Oh)},t=function(){D||R||p(o.Smile)};return window.addEventListener("mousedown",e),window.addEventListener("mouseup",t),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mouseup",t)}}),[D,R]),Object(i.useEffect)((function(){if(N&&B<999){var e=window.setInterval((function(){C(B+1)}),1e3);return function(){window.clearInterval(e)}}}),[N,B]),Object(i.useEffect)((function(){R&&(S(!1),p(o.Lost))}),[R]),Object(i.useEffect)((function(){D&&(S(!1),p(o.Won))}),[D]);var W=function(e,t){return function(){if(!D&&!R){var o=n.slice();if(!N){for(var i=o[e][t].value===a.Bomb;i;)if((o=O())[e][t].value!==a.Bomb){i=!1;break}S(!0)}var r=o[e][t];if(![l.Flagged,l.Visible].includes(r.state)&&r.state!==l.Flagged){if(r.value===a.Bomb)return T(!0),o[e][t].red=!0,o=H(),void u(o);r.value===a.None?o=d(o,e,t):o[e][t].state=l.Visible;for(var s=!1,b=0;b<9;b++)for(var v=0;v<9;v++){var f=o[b][v];if(f.value!==a.Bomb&&f.state===l.Open){s=!0;break}}s||(o=o.map((function(e){return e.map((function(e){return e.value===a.Bomb?Object(c.a)(Object(c.a)({},e),{},{state:l.Flagged}):e}))})),J(!0)),u(o)}}}},A=function(e,t){return function(a){if(a.preventDefault(),N){var o=n[e][t],i=n.slice();o.state!==l.Visible&&(o.state===l.Open?(i[e][t].state=l.Flagged,u(i),E(L-1)):o.state===l.Flagged&&(i[e][t].state=l.Open,u(i),E(L+1)))}}},H=function(){return n.slice().map((function(e){return e.map((function(e){return e.value===a.Bomb?Object(c.a)(Object(c.a)({},e),{},{state:l.Visible}):e}))}))};return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsxs)("div",{className:"Header",children:[Object(v.jsx)(f,{value:L}),Object(v.jsx)("div",{className:"Face",onClick:function(){E(10),p(o.Smile),C(0),S(!1),T(!1),J(!1),u(O())},children:Object(v.jsx)("span",{role:"img",children:m})}),Object(v.jsx)(f,{value:B})]}),Object(v.jsx)("div",{className:"Body",children:n.map((function(e,t){return e.map((function(e,n){return Object(v.jsx)(j,{state:e.state,value:e.value,red:e.red,row:t,col:n,onClick:W,onContext:A},"".concat(t,"-").concat(n))}))}))})]})};s.a.render(Object(v.jsx)(u.a.StrictMode,{children:Object(v.jsx)(p,{})}),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.1501c5a6.chunk.js.map